# オープンソースチャットアプリケーション比較

## 比較対象

本ドキュメントでは、WhatsApp、Signal、LINEのようなシンプルなチャットツールを構築するために活用できるオープンソースチャットアプリケーションを比較します。

## 比較項目

- **通信の安全性**: エンドツーエンド暗号化（E2EE）の有無、セキュリティプロトコル、暗号化の実装状況
- **UIのカスタマイズ性**: ユーザーインターフェースの柔軟性、テーマやプラグインのサポート、カスタマイズの自由度
- **商用利用の可否**: ライセンス形態、商用利用の制限、有料プランの有無
- **プラットフォーム対応**: Web、iOS、Android対応状況
- **その他**: 特徴的な機能、コミュニティの活発さなど

---

## 詳細比較表

| アプリケーション | 通信の安全性 | UIのカスタマイズ性 | 商用利用の可否 | プラットフォーム対応 | ライセンス | 備考 |
|-----------------|--------------|--------------------|----------------|---------------------|------------|------|
| **Matrix (Element)** | ⭐⭐⭐⭐⭐<br>エンドツーエンド暗号化を標準装備。Matrixプロトコルを使用し、分散型ネットワーク上で動作。Olm/Megolm暗号化プロトコルを採用。 | ⭐⭐⭐⭐<br>クライアントアプリケーション（Element）のUIはカスタマイズ可能。複数のクライアント実装が存在し、独自クライアントの開発も可能。テーマやプラグインのサポートあり。 | ✅ 可能<br>Apache License 2.0。商用利用可能。 | Web、iOS、Android対応 | Apache 2.0 | 分散型アーキテクチャで、複数のサーバー間で通信可能。Signal Protocolに似た暗号化。 |
| **Rocket.Chat** | ⭐⭐⭐⭐<br>エンドツーエンド暗号化をサポート。LDAP/Active Directoryとの連携可能。オンプレミス運用により高いセキュリティを確保。バージョン6以降のオープンソース版では一部機能に制限あり。 | ⭐⭐⭐⭐⭐<br>高いカスタマイズ性。Slackに似たUIで、テーマやプラグインのサポートが充実。独自の機能開発やUI変更が容易。APIやWebhookを通じた拡張が可能。 | ✅ 可能<br>MITライセンス。商用利用可能。エンタープライズ版の有料プランあり。 | Web、iOS、Android対応（React Native） | MIT | 高い柔軟性とカスタマイズ性が特徴。 |
| **Mattermost** | ⭐⭐⭐⭐<br>エンドツーエンド暗号化を提供。エンタープライズ向けに開発され、高度なセキュリティ機能を備える。オンプレミス運用可能。AD/LDAP連携やOpenID Connectは有料版でのみ対応。 | ⭐⭐⭐⭐⭐<br>高いカスタマイズ性。Slackに似たUIで、プラグインやテーマの追加が容易。APIを通じた拡張が可能。 | ✅ 可能<br>MITライセンス（一部AGPL）。商用利用可能。エンタープライズ版の有料プランあり。 | Web、iOS、Android対応（React Native） | MIT/AGPL | エンタープライズ向けの機能が充実。 |
| **Zulip** | ⭐⭐⭐⭐<br>エンドツーエンド暗号化を提供。LDAPやSSO（シングルサインオン）に対応。トピック形式で会話を管理。 | ⭐⭐⭐<br>スレッドベースの対話を重視した独自のUI。カスタマイズ性は中程度。APIやボット操作に対応。 | ✅ 可能<br>Apache License 2.0。商用利用可能。 | Web、iOS、Android対応 | Apache 2.0 | スレッドベースの会話管理が特徴。 |
| **Signal** | ⭐⭐⭐⭐⭐<br>エンドツーエンド暗号化を標準装備。Signal Protocolを採用し、高いセキュリティとプライバシー保護を提供。 | ⭐⭐<br>シンプルなUIで、プライバシーとセキュリティに重点を置いた設計。UIのカスタマイズ性は限定的。 | ⚠️ 要確認<br>AGPLライセンス。オープンソースだが、非営利目的での利用が推奨されており、商用利用には制限がある可能性。 | iOS、Android対応（Web版は限定的） | AGPL | プライバシー重視の設計。サーバー部分もオープンソース。 |
| **SimpleX Chat** | ⭐⭐⭐⭐⭐<br>ユーザーIDを持たない設計。エンドツーエンド暗号化を採用。メタデータの収集を最小限に抑える。 | ⭐⭐<br>オープンソースだが、UIのカスタマイズ性は限定的。 | ✅ 可能<br>AGPLライセンス。商用利用可能。 | iOS、Android対応 | AGPL | プライバシー重視。ユーザーIDを持たない設計が特徴。 |
| **Nextcloud Talk** | ⭐⭐⭐⭐<br>エンドツーエンド暗号化を提供。Nextcloudプラグインとして動作。 | ⭐⭐⭐<br>NextcloudのUIに統合されており、カスタマイズ性はNextcloudの範囲内で可能。 | ✅ 可能<br>AGPLライセンス。商用利用可能だが、ライセンス条件に注意が必要。 | Web、iOS、Android対応 | AGPL | Nextcloudエコシステムの一部。 |
| **Wire** | ⭐⭐⭐⭐⭐<br>Proteusプロトコルを使用したすべてのメッセージ、通話、ファイルの暗号化を提供。 | ⭐⭐⭐<br>主にビジネス向けに設計。カジュアルユーザーには使いにくい場合がある。 | ⚠️ 要確認<br>個人利用は無料。企業向けは有料（ユーザーあたり月額9.45ドル）。 | Web、iOS、Android対応 | AGPL | ビジネス向けのセキュアなチャット。 |
| **Session** | ⭐⭐⭐⭐⭐<br>オニオンルーティングによる暗号化されたマルチノードメッセージリレーで匿名性を強化。 | ⭐⭐<br>分散型ネットワークで運用。UIのカスタマイズ性は限定的。 | ✅ 可能<br>GPLライセンス。商用利用可能。 | iOS、Android対応 | GPL | 匿名性とプライバシーを重視。 |

---

## 推奨度別まとめ

### 総合的に推奨（SpTalkプロジェクトに適している）

#### 1. **Matrix (Element)** ⭐⭐⭐⭐⭐
- **理由**: 分散型アーキテクチャ、高いセキュリティ、商用利用可能、柔軟なカスタマイズ性
- **特徴**: 
  - エンドツーエンド暗号化を標準装備
  - 複数のクライアント実装が存在
  - Apache 2.0ライセンスで商用利用可能
  - Web、iOS、Android対応
- **注意点**: 分散型のため、初期設定がやや複雑な場合がある

#### 2. **Rocket.Chat** ⭐⭐⭐⭐
- **理由**: 高いカスタマイズ性、商用利用可能、充実した機能
- **特徴**:
  - Slackに似たUIで使いやすい
  - 高いカスタマイズ性と柔軟性
  - MITライセンスで商用利用可能
  - プラグインシステムが充実
- **注意点**: バージョン6以降のオープンソース版では一部機能に制限あり

#### 3. **Mattermost** ⭐⭐⭐⭐
- **理由**: エンタープライズ向けの機能、高いセキュリティ、商用利用可能
- **特徴**:
  - エンタープライズ向けの高度なセキュリティ機能
  - Slackに似たUI
  - 高いカスタマイズ性
  - オンプレミス運用に適している
- **注意点**: AD/LDAP連携など一部機能は有料版でのみ利用可能

### セキュリティ重視の場合

#### **Signal** ⭐⭐⭐⭐⭐
- **理由**: 最高レベルのセキュリティとプライバシー保護
- **注意点**: UIのカスタマイズ性が限定的、商用利用の可否を要確認

#### **SimpleX Chat** ⭐⭐⭐⭐⭐
- **理由**: ユーザーIDを持たない設計でプライバシー重視
- **注意点**: UIのカスタマイズ性が限定的

### カスタマイズ性重視の場合

#### **Rocket.Chat** / **Mattermost**
- 両者とも高いカスタマイズ性を提供
- プラグインシステムが充実
- APIを通じた拡張が容易

---

## 選定のポイント

### SpTalkプロジェクトの要件を考慮した選定基準

1. **通信の安全性**: エンドツーエンド暗号化が必須
2. **UIのカスタマイズ性**: テキスト、画像、スタンプなどの機能を追加できる柔軟性が必要
3. **商用利用の可否**: 商用利用可能なライセンスが必要
4. **プラットフォーム対応**: Web、iOS、Androidのすべてに対応していることが望ましい
5. **1対1チャットとグループチャット**: 両方の機能が必要
6. **グループ名の設定**: グループ機能に名前を付けられる必要がある

### 推奨選定

**最優先候補: Matrix (Element)**
- すべての要件を満たしている
- 分散型アーキテクチャでスケーラブル
- 高いセキュリティとカスタマイズ性を両立

**次点候補: Rocket.Chat**
- 高いカスタマイズ性と使いやすさ
- 充実した機能とコミュニティ
- 商用利用可能

---

## ソースコードの改変と独自配布について

### ライセンス別の改変・配布の可否

ソースコードを改変して独自に配布する場合、ライセンスの種類によって制約が異なります。

#### ✅ **改変・独自配布が最も自由度が高い（推奨）**

| アプリケーション | ライセンス | 改変・配布の可否 | 制約 |
|-----------------|------------|-----------------|------|
| **Rocket.Chat** | MIT | ✅ **可能** | 元のライセンス表示と著作権表示を保持する必要がある。改変版を独自のライセンスで配布することも可能。 |
| **Mattermost** | MIT（一部AGPL） | ✅ **可能** | MIT部分は改変・独自配布可能。AGPL部分は改変版もAGPLで公開する必要がある。 |
| **Matrix (Element)** | Apache 2.0 | ✅ **可能** | 元のライセンス表示と著作権表示を保持する必要がある。変更点を記載する必要がある場合あり。改変版を独自のライセンスで配布することも可能。 |
| **Zulip** | Apache 2.0 | ✅ **可能** | 元のライセンス表示と著作権表示を保持する必要がある。変更点を記載する必要がある場合あり。改変版を独自のライセンスで配布することも可能。 |

**特徴**:
- 改変版を独自のライセンス（プロプライエタリ含む）で配布可能
- ソースコードの公開義務なし（ただし元のライセンス表示は必要）
- 商用利用に最も適している

#### ⚠️ **改変・配布は可能だが制約あり（コピーレフト）**

| アプリケーション | ライセンス | 改変・配布の可否 | 制約 |
|-----------------|------------|-----------------|------|
| **Signal** | AGPL | ⚠️ **制約あり** | 改変版を配布する場合、同じAGPLライセンスでソースコードを公開する必要がある（コピーレフト）。 |
| **SimpleX Chat** | AGPL | ⚠️ **制約あり** | 改変版を配布する場合、同じAGPLライセンスでソースコードを公開する必要がある（コピーレフト）。 |
| **Nextcloud Talk** | AGPL | ⚠️ **制約あり** | 改変版を配布する場合、同じAGPLライセンスでソースコードを公開する必要がある（コピーレフト）。 |
| **Wire** | AGPL | ⚠️ **制約あり** | 改変版を配布する場合、同じAGPLライセンスでソースコードを公開する必要がある（コピーレフト）。 |
| **Session** | GPL | ⚠️ **制約あり** | 改変版を配布する場合、同じGPLライセンスでソースコードを公開する必要がある（コピーレフト）。 |

**特徴**:
- 改変版も同じオープンソースライセンスで公開する必要がある
- プロプライエタリな配布は不可
- ソースコードの公開義務あり

### まとめ：改変・独自配布の観点からの推奨順位

1. **Rocket.Chat** / **Mattermost** (MIT)
   - 最も自由度が高い
   - 改変版を独自のライセンスで配布可能
   - ソースコード公開の義務なし

2. **Matrix (Element)** / **Zulip** (Apache 2.0)
   - 高い自由度
   - 改変版を独自のライセンスで配布可能
   - 元のライセンス表示を保持する必要あり

3. **Signal** / **SimpleX Chat** / **Nextcloud Talk** / **Wire** / **Session** (AGPL/GPL)
   - 改変は可能だが、改変版も同じライセンスで公開する必要がある
   - プロプライエタリな配布は不可

### SpTalkプロジェクトへの推奨

**ソースコードを改変して独自に配布する場合**は、以下の順で推奨します：

1. **Rocket.Chat** (MIT) - 最も自由度が高く、改変版を独自ブランドで配布可能
2. **Matrix (Element)** (Apache 2.0) - 高い自由度、分散型アーキテクチャの利点
3. **Mattermost** (MIT) - 高い自由度、エンタープライズ向け機能

**注意**: どのライセンスを選択する場合でも、元のライセンス表示と著作権表示を保持する必要があります。詳細は各プロジェクトのライセンスファイルを確認してください。

---

## 参考情報

- **Matrix**: https://matrix.org/
- **Rocket.Chat**: https://rocket.chat/
- **Mattermost**: https://mattermost.com/
- **Zulip**: https://zulip.com/
- **Signal**: https://signal.org/
- **SimpleX Chat**: https://simplex.chat/

---

## 更新履歴

- 2024年: 初版作成

